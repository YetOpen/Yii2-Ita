
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Guida italiana del framework PHP Yii 2.0">
      
      
      
        <meta name="author" content="Lorenzo Milicia">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.languages" content="">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.12.1">
    
    
      
        <title>Routing e creazione degli URL - YII2 - La guida italiana</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-e826f8942a.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-04ea671600.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-23f75ab9c7.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="teal" data-md-color-accent="deep-orange">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="YII2 - La guida italiana" class="md-header-nav__button md-logo">
          
            <i class="md-icon md-icon--home"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Gestione delle richieste
                </span>
              
            
            Routing e creazione degli URL
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/Milicia4/Yii2-Ita.git" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." title="Homepage" class="md-tabs__link">
        Homepage
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../getting-started/sub-installing-Yii/" title="Come Iniziare" class="md-tabs__link">
          Come Iniziare
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../application-structure/sub-overview/" title="Struttura dell'Applicazione" class="md-tabs__link">
          Struttura dell'Applicazione
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../sub-request-overview/" title="Gestione delle richieste" class="md-tabs__link md-tabs__link--active">
          Gestione delle richieste
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../key-concepts/sub-components/" title="Concetti chiave" class="md-tabs__link">
          Concetti chiave
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../working-with-databases/sub-data-access-object/" title="Lavorare con i Database" class="md-tabs__link">
          Lavorare con i Database
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon md-icon--home"></i>
      
    </span>
    YII2 - La guida italiana
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/Milicia4/Yii2-Ita.git" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Homepage" class="md-nav__link">
      Homepage
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Come Iniziare
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Come Iniziare
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/sub-installing-Yii/" title="Installazione di Yii" class="md-nav__link">
      Installazione di Yii
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/sub-saying-hello/" title="Iniziamo con un "Ciao"" class="md-nav__link">
      Iniziamo con un "Ciao"
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/sub-working-with-forms/" title="Lavoriamo con i moduli" class="md-nav__link">
      Lavoriamo con i moduli
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/sub-working-with-database/" title="Lavoriamo con i database" class="md-nav__link">
      Lavoriamo con i database
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/sub-generate-code-gii/" title="Generare codice con Gii" class="md-nav__link">
      Generare codice con Gii
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/sub-looking-ahead/" title="Guardiamo avanti" class="md-nav__link">
      Guardiamo avanti
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Struttura dell'Applicazione
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Struttura dell'Applicazione
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-overview/" title="Panoramica" class="md-nav__link">
      Panoramica
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-entry-script/" title="Entry Script" class="md-nav__link">
      Entry Script
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-applications/" title="Applicazioni" class="md-nav__link">
      Applicazioni
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-application-components/" title="Componenti applicativi" class="md-nav__link">
      Componenti applicativi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-controllers/" title="Controllori" class="md-nav__link">
      Controllori
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-models/" title="Modelli" class="md-nav__link">
      Modelli
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-views/" title="Viste" class="md-nav__link">
      Viste
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-modules/" title="Moduli" class="md-nav__link">
      Moduli
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-filters/" title="Filtri" class="md-nav__link">
      Filtri
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-widget/" title="Widget" class="md-nav__link">
      Widget
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-assets/" title="Assets" class="md-nav__link">
      Assets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-extensions/" title="Estensioni" class="md-nav__link">
      Estensioni
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Gestione delle richieste
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Gestione delle richieste
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../sub-request-overview/" title="Panoramica sulla gestione delle richieste" class="md-nav__link">
      Panoramica sulla gestione delle richieste
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sub-bootstrapping/" title="Bootstrapping" class="md-nav__link">
      Bootstrapping
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Routing e creazione degli URL
      </label>
    
    <a href="./" title="Routing e creazione degli URL" class="md-nav__link md-nav__link--active">
      Routing e creazione degli URL
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#formati-degli-url" title="Formati degli URL" class="md-nav__link">
    Formati degli URL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#routing" title="Routing" class="md-nav__link">
    Routing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#percorso-predefinito" title="Percorso predefinito" class="md-nav__link">
    Percorso predefinito
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itinerario-catchall" title="Itinerario CatchAll" class="md-nav__link">
    Itinerario CatchAll
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creazione-di-url" title="Creazione di URL" class="md-nav__link">
    Creazione di URL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utilizziamo-gli-url-graziosi-pretty" title="Utilizziamo gli URL "graziosi" (pretty)" class="md-nav__link">
    Utilizziamo gli URL "graziosi" (pretty)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#regole-dellurl" title="Regole dell'URL" class="md-nav__link">
    Regole dell'URL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parametri-nominati" title="Parametri nominati" class="md-nav__link">
    Parametri nominati
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#percorsi-di-parametrizzazione" title="Percorsi di parametrizzazione" class="md-nav__link">
    Percorsi di parametrizzazione
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#valori-dei-parametri-predefiniti" title="Valori dei parametri predefiniti" class="md-nav__link">
    Valori dei parametri predefiniti
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#regole-con-nomi-dei-server" title="Regole con nomi dei server" class="md-nav__link">
    Regole con nomi dei server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#suffissi-degli-url" title="Suffissi degli URL" class="md-nav__link">
    Suffissi degli URL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metodi-http" title="Metodi HTTP" class="md-nav__link">
    Metodi HTTP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#agigunta-di-regole-in-modo-dinamico" title="Agigunta di regole in modo dinamico" class="md-nav__link">
    Agigunta di regole in modo dinamico
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creazione-regole-associate-alle-classi" title="Creazione regole associate alle classi" class="md-nav__link">
    Creazione regole associate alle classi
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normalizzazione-dellurl" title="Normalizzazione dell'URL" class="md-nav__link">
    Normalizzazione dell'URL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#considerazioni-sulle-prestazioni" title="Considerazioni sulle prestazioni" class="md-nav__link">
    Considerazioni sulle prestazioni
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sub-requests/" title="Requests" class="md-nav__link">
      Requests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sub-responses/" title="Responses" class="md-nav__link">
      Responses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sub-session-cookies/" title="Session & Cookies" class="md-nav__link">
      Session & Cookies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sub-handling-error/" title="Gestione degli errori" class="md-nav__link">
      Gestione degli errori
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sub-logging/" title="Registrazione" class="md-nav__link">
      Registrazione
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Concetti chiave
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Concetti chiave
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../key-concepts/sub-components/" title="Componenti" class="md-nav__link">
      Componenti
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../key-concepts/sub-properties/" title="Proprietà" class="md-nav__link">
      Proprietà
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../key-concepts/sub-events/" title="Eventi" class="md-nav__link">
      Eventi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../key-concepts/sub-behaviors/" title="Comportamenti (Behaviors)" class="md-nav__link">
      Comportamenti (Behaviors)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../key-concepts/sub-configurations/" title="Configurazioni" class="md-nav__link">
      Configurazioni
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../key-concepts/sub-alias/" title="Alias" class="md-nav__link">
      Alias
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../key-concepts/sub-autoloading-class/" title="Classe "Autoloading"" class="md-nav__link">
      Classe "Autoloading"
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../key-concepts/sub-service-locator/" title="Localizzatore di servizi" class="md-nav__link">
      Localizzatore di servizi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../key-concepts/sub-dependency-injection-container/" title="Contenitore Dependency Injection" class="md-nav__link">
      Contenitore Dependency Injection
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Lavorare con i Database
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Lavorare con i Database
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../working-with-databases/sub-data-access-object/" title="Accesso ai dati tramite oggetti" class="md-nav__link">
      Accesso ai dati tramite oggetti
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../working-with-databases/sub-query-builder/" title="Generatore di Query" class="md-nav__link">
      Generatore di Query
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../working-with-databases/sub-active-record/" title="Active Record" class="md-nav__link">
      Active Record
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../working-with-databases/sub-migrations/" title="Migrazioni" class="md-nav__link">
      Migrazioni
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#formati-degli-url" title="Formati degli URL" class="md-nav__link">
    Formati degli URL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#routing" title="Routing" class="md-nav__link">
    Routing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#percorso-predefinito" title="Percorso predefinito" class="md-nav__link">
    Percorso predefinito
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itinerario-catchall" title="Itinerario CatchAll" class="md-nav__link">
    Itinerario CatchAll
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creazione-di-url" title="Creazione di URL" class="md-nav__link">
    Creazione di URL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utilizziamo-gli-url-graziosi-pretty" title="Utilizziamo gli URL "graziosi" (pretty)" class="md-nav__link">
    Utilizziamo gli URL "graziosi" (pretty)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#regole-dellurl" title="Regole dell'URL" class="md-nav__link">
    Regole dell'URL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parametri-nominati" title="Parametri nominati" class="md-nav__link">
    Parametri nominati
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#percorsi-di-parametrizzazione" title="Percorsi di parametrizzazione" class="md-nav__link">
    Percorsi di parametrizzazione
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#valori-dei-parametri-predefiniti" title="Valori dei parametri predefiniti" class="md-nav__link">
    Valori dei parametri predefiniti
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#regole-con-nomi-dei-server" title="Regole con nomi dei server" class="md-nav__link">
    Regole con nomi dei server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#suffissi-degli-url" title="Suffissi degli URL" class="md-nav__link">
    Suffissi degli URL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metodi-http" title="Metodi HTTP" class="md-nav__link">
    Metodi HTTP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#agigunta-di-regole-in-modo-dinamico" title="Agigunta di regole in modo dinamico" class="md-nav__link">
    Agigunta di regole in modo dinamico
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creazione-regole-associate-alle-classi" title="Creazione regole associate alle classi" class="md-nav__link">
    Creazione regole associate alle classi
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normalizzazione-dellurl" title="Normalizzazione dell'URL" class="md-nav__link">
    Normalizzazione dell'URL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#considerazioni-sulle-prestazioni" title="Considerazioni sulle prestazioni" class="md-nav__link">
    Considerazioni sulle prestazioni
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Milicia4/Yii2-Ita.git/edit/master/docs/handling-requests/sub-routing-url-creation.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="routing-e-creazione-degli-url">Routing e creazione degli URL<a class="headerlink" href="#routing-e-creazione-degli-url" title="Permanent link">&para;</a></h1>
<p>Quando un'applicazione Yii avvia l'elaborazione di una richiesta di URL, il primo passo necessario è analizzare l'URL in una <strong><em>route</em></strong>. Il percorso viene quindi utilizzato per istanziare l' azione del controller corrispondente per gestire la richiesta. L'intero processo è chiamato <strong><em>routing</em></strong>.</p>
<p>Il processo inverso di routing si chiama creazione di URL , che crea un URL da una determinata route e i parametri di query associati. Successivamente, quando viene richiesto l'URL creato, il processo di routing può risolverlo nel percorso originale e nei parametri della query associata.</p>
<p>Il pezzo centrale responsabile per il routing e la creazione di URL è il gestore degli URL , che è registrato come componente dell'applicazione <code>urlManager</code>. Il gestore URL fornisce il metodo <code>parseRequest()</code> per analizzare una richiesta in entrata in una route e i parametri di query associati ad esso, e fornisce anche il metodo <code>createUrl()</code> per creare un URL da una determinata route e i relativi parametri di query associati.</p>
<p>Configurando il componente <code>urlManager</code> nella configurazione dell'applicazione, è possibile consentire all'applicazione di riconoscere i formati di URL arbitrari senza modificare il codice dell'applicazione esistente. Ad esempio, è possibile utilizzare il seguente codice per creare un URL per l'azione <code>post/view</code>:</p>
<pre><code>use yii\helpers\Url;

// Url::to() calls UrlManager::createUrl() to create a URL
$url = Url::to(['post/view', 'id' =&gt; 100]);
</code></pre>
<p>A seconda della configurazione dell'<code>urlManager</code>, l'URL creato può apparire come uno degli esempi sottostanti. E se l'URL creato viene richiesto in seguito, verrà comunque analizzato nella route originale e nel valore del parametro di query.</p>
<pre><code>/index.php?r=post%2Fview&amp;id=100
/index.php/post/100
/posts/100
</code></pre>
<h2 id="formati-degli-url">Formati degli URL<a class="headerlink" href="#formati-degli-url" title="Permanent link">&para;</a></h2>
<p>Il gestore degli URL supporta due formati:</p>
<ul>
<li>Il formato URL predefinito.</li>
<li>Il formato URL più "grazioso".</li>
</ul>
<p>Il formato URL predefinito utilizza un parametro di query denominato <code>r</code> per rappresentare la route e i normali parametri di query. Ad esempio, l'URL <code>/index.php?r=post/view&amp;id=100</code> rappresenta il percorso <code>post/view</code> e il parametro <code>id</code> ha un valore di <code>100</code>. Il formato URL predefinito non richiede alcuna configurazione del gestore URL e funziona in qualsiasi configurazione del server Web.</p>
<p>Il formato URL “grazioso“ utilizza il percorso aggiuntivo che segue il nome dello script della voce per rappresentare la route e i parametri di query associati. Ad esempio, il percorso aggiuntivo nell'URL <code>/index.php/post/100</code> è <code>/post/100</code> che può rappresentare il percorso <code>post/view</code>e il parametro <code>id</code> che ha come valore della query <code>100</code>con una regola URL appropriata . Per utilizzare il formato URL più grazioso, è necessario progettare un set di regole URL in base ai requisiti effettivi su come dovrebbe apparire l'URL.</p>
<p>È possibile passare tra i due formati di URL attivando la proprietà <code>enablePrettyUrl</code> del gestore URL senza modificare nessun codice nell'applicazione.</p>
<h2 id="routing">Routing<a class="headerlink" href="#routing" title="Permanent link">&para;</a></h2>
<p>Il routing prevede due passaggi:</p>
<ul>
<li>la richiesta in entrata viene analizzata in una route e i parametri di query associati;</li>
<li>viene creata un'azione di controllo corrispondente al percorso analizzato per gestire la richiesta.</li>
</ul>
<p>Quando si utilizza il formato URL predefinito, l'analisi di una richiesta in una route è semplice come ottenere il valore di un parametro GET di una query denominata <code>r</code>.</p>
<p>Quando si utilizza il formato URL "grazioso", il gestore URL esaminerà le regole URL registrate per trovare quella corrispondente che possa risolvere la richiesta in una route. Se tale regola non può essere trovata, verrà generata un'eccezione <strong><em>yii \ web \ NotFoundHttpException</em></strong>.</p>
<p>Una volta che la richiesta viene analizzata in una route, è il momento di creare l'azione del controller identificata dalla route stessa. Il percorso è suddiviso in più parti con le barre in esso contenute. Ad esempio, <code>site/index</code> sarà suddiviso in <code>site</code>e <code>index</code>. Ogni parte è un ID che può riferirsi a un modulo, a un controllore o a un'azione. A partire dalla prima parte del percorso, l'applicazione effettua le seguenti operazioni per creare i moduli (se presenti), il controller e l'azione:</p>
<ol>
<li>Imposta l'applicazione come modulo corrente</li>
<li>Verificare se il "controller map" del modulo corrente contiene l'ID giusto. In tal caso, verrà creato un oggetto controller in base alla configurazione trovata nella mappa e verrà eseguito il passaggio "5" per gestire la parte restante del percorso.</li>
<li>Verifica se l'ID fa riferimento a un modulo elencato nella proprietà <strong><em>yii \ base \ Module :: modules</em></strong> del modulo corrente. In tal caso, viene creato un modulo in base alla configurazione trovata nell'elenco dei moduli e il passaggio "2" verrà utilizzato per gestire la parte successiva del percorso nel contesto del modulo appena creato.</li>
<li>Tratta l'ID come un' "ID controller" e crea un oggetto controller. Fai il prossimo passo con la parte restante del percorso.</li>
<li>Il controller cerca l'ID corrente nella sua mappa d'azione. Se trovato, crea un'azione in base alla configurazione trovata nella mappa. In caso contrario, il controller tenterà di creare un'azione in linea definita da un metodo di azione corrispondente all'ID azione corrente.</li>
</ol>
<p>Tra i passaggi precedenti, se si verifica un errore, verrà generata un'eccezione <strong><em>yii \ web \ NotFoundHttpException</em></strong>, che indica l'errore del processo di routing.</p>
<h2 id="percorso-predefinito">Percorso predefinito<a class="headerlink" href="#percorso-predefinito" title="Permanent link">&para;</a></h2>
<p>Quando una richiesta viene analizzata in una route vuota, verrà utilizzata la cosiddetta "route predefinita". Per impostazione predefinita, la route predefinita è <code>site/index</code>, che si riferisce all'azione <code>index</code> del <strong><em>sitecontroller</em></strong>. È possibile personalizzarlo configurando la proprietà <code>defaultRoute</code> dell'applicazione nella configurazione dell'app come la seguente:</p>
<pre><code>[
    // ...
    'defaultRoute' =&gt; 'main/index',
];
</code></pre>
<p>Simile al percorso predefinito dell'applicazione, vi è anche un percorso predefinito per i moduli, così per esempio se vi è un modulo <code>user</code> e la richiesta viene analizzata nella route <code>user</code> del modulo <strong><em>defaultroute</em></strong> è utilizzato per determinare il controller. Per impostazione predefinita, il nome del controller è <code>default</code>. Se non si specifica un'azione <strong><em>defaultroute</em></strong>, la proprietà <code>DefaultAction</code> del controller verrà utilizzata per determinare l'azione. In questo esempio, il percorso completo sarà <code>user/default/index</code>.</p>
<h2 id="itinerario-catchall">Itinerario <code>CatchAll</code><a class="headerlink" href="#itinerario-catchall" title="Permanent link">&para;</a></h2>
<p>A volte, potresti voler mettere temporaneamente in pausa la tua applicazione Web e visualizzare la stessa pagina informativa per tutte le richieste. Ci sono molti modi per raggiungere questo obiettivo. Ma uno dei modi più semplici è configurare la proprietà <strong><em>yii \ web \ Application :: $ catchAll</em></strong> come segue nella configurazione dell'applicazione:</p>
<pre><code>[
    // ...
    'catchAll' =&gt; ['site/offline'],
];
</code></pre>
<p>Con la configurazione sopra indicata, l'azione <code>site/offline</code> verrà utilizzata per gestire tutte le richieste in arrivo.</p>
<p>La proprietà <code>catchAll</code> dovrebbe prendere una matrice,il cui primo elemento specifica una rotta, e il resto degli elementi (coppie nome-valore) specificano i parametri da associare all'azione stessa.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>La barra degli strumenti di debug nell'ambiente di sviluppo non funzionerà quando questa proprietà è abilitata.</p>
</div>
<h2 id="creazione-di-url">Creazione di URL<a class="headerlink" href="#creazione-di-url" title="Permanent link">&para;</a></h2>
<p>Yii fornisce un metodo di supporto <strong><em>yii \ helpers \ Url :: to()</em></strong> per creare vari tipi di URL dai percorsi specificati e i relativi parametri di query associati. Per esempio,</p>
<pre><code>use yii\helpers\Url;

// creates a URL to a route: /index.php?r=post%2Findex
echo Url::to(['post/index']);

// creates a URL to a route with parameters: /index.php?r=post%2Fview&amp;id=100
echo Url::to(['post/view', 'id' =&gt; 100]);

// creates an anchored URL: /index.php?r=post%2Fview&amp;id=100#content
echo Url::to(['post/view', 'id' =&gt; 100, '#' =&gt; 'content']);

// creates an absolute URL: http://www.example.com/index.php?r=post%2Findex
echo Url::to(['post/index'], true);

// creates an absolute URL using the https scheme: https://www.example.com/index.php?r=post%2Findex
echo Url::to(['post/index'], 'https');
</code></pre>
<p>Nota che nell'esempio indicato sopra, assumiamo per esempio, che venga utilizzato il formato URL predefinito. Se il formato URL "pretty"(grazioso) è abilitato, gli URL creati saranno diversi, in base alle regole URL in uso.</p>
<p>Il percorso passato al metodo <strong><em>yii \ helpers \ Url :: to ()</em></strong> è sensibile al contesto. Può essere una route relativa o una route assoluta, che sarà normalizzata secondo le seguenti regole:</p>
<ul>
<li>Se la route è una stringa vuota, verrà utilizzata la route <strong><em> yii \ web \ Controller :: </em></strong> attualmente richiesta;</li>
<li>Se il percorso non contiene alcuna barra, viene considerato un ID d'azione del controller corrente e verrà anteposto al valore <strong><em>yii \ web \ Controller :: uniqueId</em></strong> del controller corrente;</li>
<li>Se la route non ha una barra iniziale, viene considerata una route relativa al modulo corrente e verrà anteposta al valore <strong><em>yii \ base \ Module :: uniqueId</em></strong> del modulo corrente.</li>
</ul>
<p>A partire dalla versione 2.0.2, è possibile specificare un percorso in termini di <code>alias</code>. In questo caso, l'alias verrà convertito nel percorso effettivo trasformandolo in un percorso assoluto in base alle regole precedenti.</p>
<p>Ad esempio, supponiamo che il modulo corrente sia <code>admin</code> e il controller corrente sia <code>post</code>,</p>
<pre><code>use yii\helpers\Url;

// currently requested route: /index.php?r=admin%2Fpost%2Findex
echo Url::to(['']);

// a relative route with action ID only: /index.php?r=admin%2Fpost%2Findex
echo Url::to(['index']);

// a relative route: /index.php?r=admin%2Fpost%2Findex
echo Url::to(['post/index']);

// an absolute route: /index.php?r=post%2Findex
echo Url::to(['/post/index']);

// using an alias "@posts", which is defined as "/post/index": /index.php?r=post%2Findex
echo Url::to(['@posts']);
</code></pre>
<p>Il metodo <strong><em>yii \ helpers \ Url :: to ()</em></strong> viene implementato chiamando i metodi <code>createUrl()</code> e <code>createAbsoluteUrl()</code> del gestore URL. Nelle prossime sottosezioni, spiegheremo come configurare il gestore URL per personalizzare il formato degli URL creati.</p>
<p>Il metodo <strong><em>yii \ helpers \ Url :: to ()</em></strong> supporta anche la creazione di URL che non sono correlati a percorsi particolari. Invece di passare un array come primo parametro, dovresti passare una stringa in questo caso. Per esempio,</p>
<pre><code>use yii\helpers\Url;

// currently requested URL: /index.php?r=admin%2Fpost%2Findex
echo Url::to();

// an aliased URL: http://example.com
Yii::setAlias('@example', 'http://example.com/');
echo Url::to('@example');

// an absolute URL: http://example.com/images/logo.gif
echo Url::to('/images/logo.gif', true);
</code></pre>
<p>Oltre al metodo <code>to()</code>, la classe <code>helper</code> <strong><em>yii \ helpers \ Url</em></strong> fornisce anche altri metodi di creazione di URL convenienti. Per esempio,</p>
<pre><code>use yii\helpers\Url;

// home page URL: /index.php?r=site%2Findex
echo Url::home();

// the base URL, useful if the application is deployed in a sub-folder of the Web root
echo Url::base();

// the canonical URL of the currently requested URL
// see https://en.wikipedia.org/wiki/Canonical_link_element
echo Url::canonical();

// remember the currently requested URL and retrieve it back in later requests
Url::remember();
echo Url::previous();
</code></pre>
<h2 id="utilizziamo-gli-url-graziosi-pretty">Utilizziamo gli URL "graziosi" (pretty)<a class="headerlink" href="#utilizziamo-gli-url-graziosi-pretty" title="Permanent link">&para;</a></h2>
<p>Per utilizzare gli URL "graziosi", dobbiamo configurare il componente <strong><em>urlManager</em></strong> nella configurazione dell'applicazione come segue:</p>
<pre><code>[
    'components' =&gt; [
        'urlManager' =&gt; [
            'enablePrettyUrl' =&gt; true,
            'showScriptName' =&gt; false,
            'enableStrictParsing' =&gt; false,
            'rules' =&gt; [
                // ...
            ],
        ],
    ],
]
</code></pre>
<p>La proprietà <code>enablePrettyUrl</code> è obbligatoria in quanto attiva il formato URL grazioso. Il resto della proprietà è facoltativo. Tuttavia, la loro configurazione indicata di sopra è la più usata.</p>
<ul>
<li><strong><em>showScriptName</em></strong>: questa proprietà determina se lo script in entrata deve essere incluso negli URL creati. Ad esempio, invece di creare un URL <code>/index.php/post/100</code>, impostando questa proprietà a <code>false</code>, verrà generato un URL <code>/post/100</code>.</li>
<li><strong><em>enableStrictParsing</em></strong>: questa proprietà determina se abilitare l'analisi rigorosa delle richieste. Se l'analisi rigorosa è abilitata, l'URL richiesto in entrata deve corrispondere ad almeno una delle regole per essere trattato come una richiesta valida, altrimenti verrà generata una eccezione <strong><em>yii \ web \ NotFoundHttpException</em></strong>. Se l'analisi rigorosa è disabilitata, quando nessuna delle regole corrisponde all'URL richiesto, la parte di informazioni sul percorso dell'URL verrà considerata come la route richiesta.</li>
<li><strong><em>rules</em></strong>: questa proprietà contiene un elenco di regole che specificano come analizzare e creare URL. È la proprietà principale con cui dovresti lavorare per creare URL il cui formato soddisfa i tuoi particolari requisiti applicativi.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Al fine di nascondere il nome dello script di entrata negli URL creati, oltre al valore <code>false</code> di <code>showScriptName</code>, potrebbe anche essere necessario configurare il server Web in modo che possa identificare correttamente quale script PHP dovrebbe essere eseguito quando un URL richiesto non viene specificato.</p>
</div>
<h2 id="regole-dellurl">Regole dell'URL<a class="headerlink" href="#regole-dellurl" title="Permanent link">&para;</a></h2>
<p>Una regola associata all'URL è una classe che implementa <strong><em>yii \ web \ UrlRuleInterface</em></strong>, in genere <strong><em>yii \ web \ UrlRule</em></strong>. Ogni regola URL consiste in un modello utilizzato per la corrispondenza della parte di informazioni sul percorso degli URL, una route e alcuni parametri di query. Una regola URL può essere utilizzata per analizzare una richiesta,se il suo modello corrisponde all'URL richiesto. È possibile utilizzare una regola URL per creare un URL se i relativi nomi dei parametri di route e query corrispondono a quelli forniti.</p>
<p>Quando il formato URL pretty(grazioso) è abilitato, il gestore URL utilizza le regole dichiarate nella sua proprietà <code>rules</code> per analizzare le richieste in arrivo e creare l'URL. In particolare, per analizzare una richiesta in arrivo, il gestore URL esamina le regole nell'ordine dichiarate in precedenza e cerca la prima regola che corrisponde all'URL richiesto. La regola di corrispondenza viene quindi utilizzata per analizzare l'URL in una route e i relativi parametri associati. Allo stesso modo, per creare un URL, il gestore URL cerca la prima regola che corrisponde al percorso e ai parametri specificati e la utilizza per creare un URL.</p>
<p>È possibile configurare le regole <strong><em>yii \ web \ UrlManager :: $</em></strong> come una matrice, composta con le chiavi come modelli e i relativi percorsi. Ogni coppia "percorso-itinerario" costruisce una regola URL. Ad esempio, la seguente configurazione dichiara due regole URL. La prima regola corrisponde a un URL <code>post</code> se lo mappa nella route <code>post/index</code>. La seconda regola corrisponde a un URL indicato dall'espressione <code>post/(\d+)</code> e lo mappa nella route <code>post/view</code> e nello stesso momento definisce un parametro associato all'<code>id</code>.</p>
<pre><code>'rules' =&gt; [
    'posts' =&gt; 'post/index',
    'post/&lt;id:\d+&gt;' =&gt; 'post/view',
]
</code></pre>
<p>Oltre a dichiarare le regole dell'URL come coppie di "pattern-route", puoi anche dichiararle come array di configurazione. Ogni array di configurazione viene utilizzato per configurare un singolo oggetto per la regola dell'URL. Questo è spesso necessario quando si desidera configurare altre proprietà di una regola URL. Per esempio,</p>
<pre><code>'rules' =&gt; [
    // ...other url rules...
    [
        'pattern' =&gt; 'posts',
        'route' =&gt; 'post/index',
        'suffix' =&gt; '.json',
    ],
]
</code></pre>
<p>Per impostazione predefinita, se non si specifica l'opzione <code>class</code> per una configurazione di regole, verrà utilizzata la classe predefinita <strong><em>yii \ web \ UrlRule</em></strong>, che è il valore predefinito definito in <strong><em>yii \ web \ UrlManager :: $ ruleConfig</em></strong>.</p>
<h2 id="parametri-nominati">Parametri nominati<a class="headerlink" href="#parametri-nominati" title="Permanent link">&para;</a></h2>
<p>Una regola URL può essere associata ai parametri di query denominati che sono specificati nel modello del formato di <code>&lt;ParamName:RegExp&gt;</code>, dove <code>ParamName</code> specifica il nome del parametro e <code>RegExp</code> è un'espressione regolare facoltativa utilizzata per abbinare i valori dei parametri. Se <code>RegExp</code> non è specificato, significa che il valore del parametro dovrà essere una stringa senza alcuna barra.</p>
<p>Quando una regola viene utilizzata per analizzare un URL, riempirà i parametri associati con valori corrispondenti ai componenti che formano l'URL e questi parametri saranno resi disponibili in seguito ad un componente <code>request</code> che effettuerà una chiamata in <code>$_GET</code>. Quando la regola viene utilizzata per creare un URL, prenderà i valori dei parametri forniti e li inserirà nei punti in cui sono stati dichiarati i parametri.</p>
<p>Illustriamo alcuni esempi per vedere come funzionano i parametri denominati. Supponiamo di aver dichiarato le seguenti tre regole URL:</p>
<pre><code>'rules' =&gt; [
    'posts/&lt;year:\d{4}&gt;/&lt;category&gt;' =&gt; 'post/index',
    'posts' =&gt; 'post/index',
    'post/&lt;id:\d+&gt;' =&gt; 'post/view',
]
</code></pre>
<p>Quando le regole vengono utilizzate per analizzare gli URL:</p>
<ul>
<li><code>/index.php/posts</code> viene analizzato nel percorso <code>post/index</code>usando la seconda regola;</li>
<li><code>/index.php/posts/2014/php</code> viene analizzato nel percorso <code>post/index</code>, il parametro <code>year</code> (il cui valore è 2014) e il parametro <code>category</code> (il cui valore è php) utilizzano la prima regola;</li>
<li><code>/index.php/post/100</code> viene analizzato nel percorso <code>post/view</code> e il parametro <code>id</code> (il cui valore è 100) utilizza la terza regola;</li>
<li>
<p><code>/index.php/posts/php</code> causerà un'eccezione <strong><em>yii \ web \ NotFoundHttpException</em></strong> quando <strong><em>yii \ web \ UrlManager :: $ enableStrictParsing</em></strong> è <code>true</code>, perché non corrisponde a nessuno dei pattern. Se <strong><em>yii \ web \ UrlManager :: $ enableStrictParsing</em></strong> è <code>false</code>(il valore predefinito), la parte di informazioni sul percorso <code>posts/php</code> verrà restituita come route. Ciò eseguirà l'azione corrispondente se esiste o non genera un'eccezione <strong><em>yii \ web \ NotFoundHttpException</em></strong> in un'altro modo.</p>
</li>
<li>
<p><code>Url::to(['post/index'])</code>crea <code>/index.php/posts</code> usando la seconda regola;</p>
</li>
<li><code>Url::to(['post/index', 'year' =&gt; 2014, 'category' =&gt; 'php'])</code> crea <code>/index.php/posts/2014/php</code> usando la prima regola;</li>
<li><code>Url::to(['post/view', 'id' =&gt; 100])</code>crea <code>/index.php/post/100</code> usando la terza regola;</li>
<li><code>Url::to(['post/view', 'id' =&gt; 100, 'source' =&gt; 'ad'])</code> crea <code>/index.php/post/100?source=ad</code> usando la terza regola. Poiché il parametro <code>source</code> non è specificato nella regola, viene aggiunto come parametro di query nell'URL creato.</li>
<li><code>Url::to(['post/index', 'category' =&gt; 'php'])</code>crea <code>/index.php/post/index?category=php</code> non usando nessuna delle regole. Si noti che poiché non si applica nessuna regola, l'URL viene creato aggiungendo semplicemente il percorso come informazione sul percorso e tutti i parametri come parte della stringa di query.</li>
</ul>
<h2 id="percorsi-di-parametrizzazione">Percorsi di parametrizzazione<a class="headerlink" href="#percorsi-di-parametrizzazione" title="Permanent link">&para;</a></h2>
<p>È possibile incorporare i nomi dei parametri nel percorso di un'URL. Ciò consente di utilizzare una regola URL per la corrispondenza di più percorsi. Ad esempio, le seguenti regole incorporano <code>controller</code> e  il parametro <code>action</code>all'interno delle route.</p>
<pre><code>'rules' =&gt; [
    '&lt;controller:(post|comment)&gt;/create' =&gt; '&lt;controller&gt;/create',
    '&lt;controller:(post|comment)&gt;/&lt;id:\d+&gt;/&lt;action:(update|delete)&gt;' =&gt; '&lt;controller&gt;/&lt;action&gt;',
    '&lt;controller:(post|comment)&gt;/&lt;id:\d+&gt;' =&gt; '&lt;controller&gt;/view',
    '&lt;controller:(post|comment)&gt;s' =&gt; '&lt;controller&gt;/index',
]
</code></pre>
<h2 id="valori-dei-parametri-predefiniti">Valori dei parametri predefiniti<a class="headerlink" href="#valori-dei-parametri-predefiniti" title="Permanent link">&para;</a></h2>
<p>Per impostazione predefinita, sono richiesti tutti i parametri dichiarati in una regola. Se un URL richiesto non contiene un particolare parametro, o se un URL viene creato senza un particolare parametro, la regola non verrà applicata. Per rendere facoltativi alcuni parametri, è possibile configurare le proprietà dei valori predefiniti di una regola. I parametri elencati in questa proprietà sono facoltativi e prenderanno i valori specificati quando non vengono forniti.</p>
<p>Nella seguente dichiarazione di regole, i parametri <code>page</code> e <code>tag</code> sono entrambi opzionali e assumeranno il valore 1 e la stringa vuota, rispettivamente, quando non vengono forniti.</p>
<pre><code>'rules' =&gt; [
    // ...other rules...
    [
        'pattern' =&gt; 'posts/&lt;page:\d+&gt;/&lt;tag&gt;',
        'route' =&gt; 'post/index',
        'defaults' =&gt; ['page' =&gt; 1, 'tag' =&gt; ''],
    ],
]
</code></pre>
<p>La regola precedente può essere utilizzata per analizzare o creare uno dei seguenti URL:</p>
<ul>
<li><code>/index.php/posts: page</code>: il valore è 1, e tag è ''.</li>
<li><code>/index.php/posts/2</code>: il valore di page è 2, e tag è ''.</li>
<li><code>/index.php/posts/2/news</code>: il valore di page è 2, e tag è 'news'.</li>
<li><code>/index.php/posts/news</code>: il valore di page è 1, e tag è 'news'.</li>
</ul>
<p>Senza usare parametri opzionali, dovresti creare 4 regole per ottenere lo stesso risultato.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Se pattern contiene solo parametri e barre opzionali, il primo parametro può essere omesso solo se tutti gli altri parametri vengono omessi.</p>
</div>
<h2 id="regole-con-nomi-dei-server">Regole con nomi dei server<a class="headerlink" href="#regole-con-nomi-dei-server" title="Permanent link">&para;</a></h2>
<p>È possibile includere i nomi dei server Web negli schemi delle regole URL. Ciò è utile soprattutto quando l'applicazione deve comportarsi diversamente per i diversi nomi di server Web. Ad esempio, le seguenti regole analizzeranno l'URL <code>http://admin.example.com/login</code> nel percorso <code>admin/user/login</code>e <code>http://www.example.com/login</code> in <code>site/login</code>.</p>
<pre><code>'rules' =&gt; [
    'http://admin.example.com/login' =&gt; 'admin/user/login',
    'http://www.example.com/login' =&gt; 'site/login',
]
</code></pre>
<p>È inoltre possibile incorporare parametri nei nomi dei server per estrarre informazioni dinamiche da essi. Ad esempio, la seguente regola analizzerà l'URL <code>http://en.example.com/posts</code> nel percorso <code>post/index</code> e nel parametro <code>language=en</code>.</p>
<pre><code>'rules' =&gt; [
    'http://&lt;language:\w+&gt;.example.com/posts' =&gt; 'post/index',
]
</code></pre>
<p>Dalla versione 2.0.11, è possibile utilizzare anche modelli relativi al protocollo che funzionano per entrambi <code>http</code> e <code>https</code>. La sintassi è lo stesso, ma saltando la parte <code>http:</code>, ad esempio: <code>'//www.example.com/login' =&gt; 'site/login'</code>.</p>
<h2 id="suffissi-degli-url">Suffissi degli URL<a class="headerlink" href="#suffissi-degli-url" title="Permanent link">&para;</a></h2>
<p>Si consiglia di aggiungere suffissi agli URL per vari scopi. Ad esempio, puoi aggiungere <code>.html</code> agli URL in modo che sembrino URL per pagine HTML statiche; puoi anche aggiungere <code>.json</code>agli URL per indicare il tipo di contenuto previsto della risposta. È possibile raggiungere questo obiettivo configurando la proprietà <strong><em>yii \ web \ UrlManager :: $</em></strong> come segue nella configurazione dell'applicazione:</p>
<pre><code>[
    // ...
    'components' =&gt; [
        'urlManager' =&gt; [
            'enablePrettyUrl' =&gt; true,
            // ...
            'suffix' =&gt; '.html',
            'rules' =&gt; [
                // ...
            ],
        ],
    ],
]
</code></pre>
<p>La configurazione sopra descritta consentirà al gestore URL di riconoscere gli URL richiesti e anche di creare URL con il suffisso di <code>.html</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Puoi impostare <code>/</code> come suffisso URL in modo che gli URL finiscano tutti con una barra.</p>
</div>
<p>A volte potresti voler utilizzare diversi suffissi per URL diversi. Questo può essere ottenuto configurando la proprietà suffisso delle singole regole URL. Quando una regola URL ha questa proprietà impostata, sovrascriverà l'impostazione del suffisso a livello di gestore URL. Ad esempio, la seguente configurazione contiene una regola URL personalizzata che utilizza l'estensione <code>.json</code> come suffisso invece del suffisso <code>.html</code>.</p>
<pre><code>[
    'components' =&gt; [
        'urlManager' =&gt; [
            'enablePrettyUrl' =&gt; true,
            // ...
            'suffix' =&gt; '.html',
            'rules' =&gt; [
                // ...
                [
                    'pattern' =&gt; 'posts',
                    'route' =&gt; 'post/index',
                    'suffix' =&gt; '.json',
                ],
            ],
        ],
    ],
]
</code></pre>
<h2 id="metodi-http">Metodi HTTP<a class="headerlink" href="#metodi-http" title="Permanent link">&para;</a></h2>
<p>Quando si implementano le API RESTful, è comunemente necessario analizzare lo stesso URL in percorsi diversi in base ai metodi HTTP utilizzati. Questo può essere facilmente ottenuto anteponendo i metodi HTTP supportati ai pattern delle regole. Se una regola supporta più metodi HTTP, conviene separare i nomi dei metodi con virgole. Ad esempio, le seguenti regole hanno lo stesso modello <code>post/&lt;id:\d+&gt;</code> con supporto del metodo HTTP diverso. Una richiesta di <code>PUT post/100</code> sarà analizzato in <code>post/update</code>, mentre la richiesta di <code>GET post/100</code> verrà analizzato in <code>post/view</code>.</p>
<pre><code>'rules' =&gt; [
    'PUT,POST post/&lt;id:\d+&gt;' =&gt; 'post/update',
    'DELETE post/&lt;id:\d+&gt;' =&gt; 'post/delete',
    'post/&lt;id:\d+&gt;' =&gt; 'post/view',
]
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Se una regola URL contiene metodi HTTP nel suo pattern, la regola verrà utilizzata solo per scopi di analisi a meno che <code>GET</code> sia tra i verbi specificati. Verrà saltato quando viene chiamato il gestore URL per creare URL.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Per semplificare il routing delle API RESTful, Yii fornisce una classe di regole URL speciale <strong><em>yii \ rest \ UrlRule</em></strong> che è molto efficiente e supporta alcune funzioni di fantasia come la pluralizzazione automatica degli ID controller. Per maggiori dettagli, fai riferimento alla sezione Routing nel capitolo API RESTful.</p>
</div>
<h2 id="agigunta-di-regole-in-modo-dinamico">Agigunta di regole in modo dinamico<a class="headerlink" href="#agigunta-di-regole-in-modo-dinamico" title="Permanent link">&para;</a></h2>
<p>Le regole URL possono essere aggiunte dinamicamente al gestore URL. Questo è spesso necessario per i moduli ridistribuibili che vogliono gestire le proprie regole URL. Affinché le regole aggiunte dinamicamente abbiano effetto durante il processo di routing, è necessario aggiungerle durante la fase di avvio dell'applicazione. Ciò significa che i moduli devono implementare <strong><em>yii \ base \ BootstrapInterface</em></strong> e aggiungere le regole nel metodo <code>bootstrap()</code> come segue:</p>
<pre><code>public function bootstrap($app){

    $app-&gt;getUrlManager()-&gt;addRules([
        // rule declarations here
    ], false);
}
</code></pre>
<p>Nota che dovresti anche elencare questi moduli in <strong><em>yii \ web \ Application :: bootstrap()</em></strong> in modo che possano partecipare al processo di bootstrap.</p>
<h2 id="creazione-regole-associate-alle-classi">Creazione regole associate alle classi<a class="headerlink" href="#creazione-regole-associate-alle-classi" title="Permanent link">&para;</a></h2>
<p>Nonostante la classe di default <strong><em>yii \ web \ UrlRule</em></strong> sia abbastanza flessibile per la maggior parte dei progetti, ci sono situazioni in cui devi creare le tue classi di regole. Ad esempio, in un sito Web di un rivenditore di automobili, è possibile che si desideri supportare il formato dell'URL come <code>/Manufacturer/Model</code>, dove entrambi <code>Manufacturer</code> e <code>Model</code> devono abbinare alcuni dati memorizzati in una tabella di database. La classe di regole predefinita non funzionerà qui perché si basa su pattern dichiarati staticamente.</p>
<p>Possiamo creare la seguente classe di regole URL per risolvere questo problema.</p>
<pre><code>&lt;?php

namespace app\components;

use yii\web\UrlRuleInterface;
use yii\base\BaseObject;

class CarUrlRule extends BaseObject implements UrlRuleInterface{

    public function createUrl($manager, $route, $params){

        if ($route === 'car/index') {
            if (isset($params['manufacturer'], $params['model'])) {
                return $params['manufacturer'] . '/' . $params['model'];
            } elseif (isset($params['manufacturer'])) {
                return $params['manufacturer'];
            }
        }
        return false; // this rule does not apply
    }

    public function parseRequest($manager, $request){

        $pathInfo = $request-&gt;getPathInfo();
        if (preg_match('%^(\w+)(/(\w+))?$%', $pathInfo, $matches)) {
            // check $matches[1] and $matches[3] to see
            // if they match a manufacturer and a model in the database.
            // If so, set $params['manufacturer'] and/or $params['model']
            // and return ['car/index', $params]
        }
        return false; // this rule does not apply
    }
}
</code></pre>
<p>E usa la nuova classe di regole nella configurazione delle regole sia <strong>yii \ web \ UrlManager :: $</strong>:</p>
<pre><code>'rules' =&gt; [
    // ...other rules...
    [
        'class' =&gt; 'app\components\CarUrlRule',
        // ...configure other properties...
    ],
]
</code></pre>
<h2 id="normalizzazione-dellurl">Normalizzazione dell'URL<a class="headerlink" href="#normalizzazione-dellurl" title="Permanent link">&para;</a></h2>
<p>Dalla versione 2.0.10 l'UrlManager può essere configurato per utilizzare <code>UrlNormalizer</code> per gestire le variazioni dello stesso URL, ad esempio con e senza una barra finale. Perché tecnicamente <code>http://example.com/path</code> e <code>http://example.com/path/</code> sono URL diversi, offrire lo stesso contenuto per entrambi può degradare il ranking SEO. Normalmente il normalizzatore comprime le barre consecutive, aggiunge o rimuove le barre finali a seconda che il suffisso abbia o meno una barra finale e reindirizza alla versione normalizzata dell'URL utilizzando il reindirizzamento permanente . Il normalizzatore può essere configurato globalmente per il gestore URL o singolarmente per ogni regola: per impostazione predefinita ogni regola utilizzerà il normalizzatore dal gestore URL. È possibile impostare <strong><em>UrlRule :: $ normalizer</em></strong> su <code>false</code> per disabilitare la normalizzazione per una regola URL specifica.</p>
<p>Il codice sotto stante mostra una configurazione di esempio per l'UrlNormalizer:</p>
<pre><code>'urlManager' =&gt; [
    'enablePrettyUrl' =&gt; true,
    'showScriptName' =&gt; false,
    'enableStrictParsing' =&gt; true,
    'suffix' =&gt; '.html',
    'normalizer' =&gt; [
        'class' =&gt; 'yii\web\UrlNormalizer',
        // use temporary redirection instead of permanent for debugging
        'action' =&gt; UrlNormalizer::ACTION_REDIRECT_TEMPORARY,
    ],
    'rules' =&gt; [
        // ...other rules...
        [
            'pattern' =&gt; 'posts',
            'route' =&gt; 'post/index',
            'suffix' =&gt; '/',
            'normalizer' =&gt; false, // disable normalizer for this rule
        ],
        [
            'pattern' =&gt; 'tags',
            'route' =&gt; 'tag/index',
            'normalizer' =&gt; [
                // do not collapse consecutive slashes for this rule
                'collapseSlashes' =&gt; false,
            ],
        ],
    ],
]
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Per impostazione predefinita <strong><em>UrlManager :: $ normalizer</em></strong> è disabilitato. È necessario configurarlo in modo esplicito per abilitare la normalizzazione degli URL.</p>
</div>
<h2 id="considerazioni-sulle-prestazioni">Considerazioni sulle prestazioni<a class="headerlink" href="#considerazioni-sulle-prestazioni" title="Permanent link">&para;</a></h2>
<p>Durante lo sviluppo di un'applicazione Web complessa, è importante ottimizzare le regole degli URL in modo che sia necessario meno tempo per analizzare le richieste e creare URL.</p>
<p>Utilizzando route parametrizzate, è possibile ridurre il numero di regole URL, che possono migliorare significativamente le prestazioni.</p>
<p>Durante l'analisi o la creazione di URL, il gestore URL esamina le regole URL nell'ordine in cui sono dichiarate. Pertanto, si può prendere in considerazione la possibilità di modificare l'ordine delle regole dell'URL in modo che le regole più specifiche e / o più comunemente usate siano poste prima di quelle meno utilizzate.</p>
<p>Se alcune regole URL condividono lo stesso prefisso nei propri pattern o percorsi, è possibile considerare l'utilizzo di <strong><em>yii \ web \ GroupUrlRule</em></strong> in modo che possano essere esaminati in modo più efficiente dal gestore URL come gruppo. Questo è spesso il caso in cui l'applicazione è composta da moduli, ciascuno con il proprio set di regole URL con l'ID del modulo come prefisso comune.</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../sub-bootstrapping/" title="Bootstrapping" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Bootstrapping
              </span>
            </div>
          </a>
        
        
          <a href="../sub-requests/" title="Requests" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Requests
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            © MIT - Lorenzo Milicia - 2017
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-946997f430.js"></script>
      
      
      <script>app.initialize({version:"0.16.3",url:{base:"../.."}})</script>
      
    
    
      
      <script>!function(e,t,a,n,o,c,i){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,c=t.createElement(a),i=t.getElementsByTagName(a)[0],c.async=1,c.src=n,i.parentNode.insertBefore(c,i)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-109845735-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var t=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",t,e.href)})});var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})</script>
      
    
  </body>
</html>