
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
        <meta name="author" content="Lorenzo Milicia">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.languages" content="">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.12.1">
    
    
      
        <title>Lavoriamo con i database - YII2 - La guida italiana</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-e826f8942a.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-04ea671600.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-23f75ab9c7.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="teal" data-md-color-accent="deep-orange">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="352" height="448" viewBox="0 0 352 448" id="bitbucket"><path fill="currentColor" d="M203.75 214.75q2 15.75-12.625 25.25t-27.875 1.5q-9.75-4.25-13.375-14.5t-.125-20.5 13-14.5q9-4.5 18.125-3t16 8.875 6.875 16.875zm27.75-5.25q-3.5-26.75-28.25-41T154 165.25q-15.75 7-25.125 22.125t-8.625 32.375q1 22.75 19.375 38.75t41.375 14q22.75-2 38-21t12.5-42zM291.25 74q-5-6.75-14-11.125t-14.5-5.5T245 54.25q-72.75-11.75-141.5.5-10.75 1.75-16.5 3t-13.75 5.5T60.75 74q7.5 7 19 11.375t18.375 5.5T120 93.75Q177 101 232 94q15.75-2 22.375-3t18.125-5.375T291.25 74zm14.25 258.75q-2 6.5-3.875 19.125t-3.5 21-7.125 17.5-14.5 14.125q-21.5 12-47.375 17.875t-50.5 5.5-50.375-4.625q-11.5-2-20.375-4.5T88.75 412 70.5 401.125t-13-15.375q-6.25-24-14.25-73l1.5-4 4.5-2.25q55.75 37 126.625 37t126.875-37q5.25 1.5 6 5.75t-1.25 11.25-2 9.25zM350.75 92.5q-6.5 41.75-27.75 163.75-1.25 7.5-6.75 14t-10.875 10T291.75 288q-63 31.5-152.5 22-62-6.75-98.5-34.75-3.75-3-6.375-6.625t-4.25-8.75-2.25-8.5-1.5-9.875T25 232.75q-2.25-12.5-6.625-37.5t-7-40.375T5.5 118 0 78.5Q.75 72 4.375 66.375T12.25 57t11.25-7.5T35 43.875t12-4.625q31.25-11.5 78.25-16 94.75-9.25 169 12.5Q333 47.25 348 66.25q4 5 4.125 12.75t-1.375 13.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="YII2 - La guida italiana" class="md-header-nav__button md-logo">
          
            <i class="md-icon md-icon--home"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Come Iniziare
                </span>
              
            
            Lavoriamo con i database
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://bitbucket.org/xnerd/yii2docs" title="Go to repository" class="md-source" data-md-source="bitbucket">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#bitbucket" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Bitbucket
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." title="Homepage" class="md-tabs__link">
        Homepage
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../sub-installing-Yii/" title="Come Iniziare" class="md-tabs__link md-tabs__link--active">
          Come Iniziare
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../application-structure/sub-overview/" title="Struttura dell'Applicazione" class="md-tabs__link">
          Struttura dell'Applicazione
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon md-icon--home"></i>
      
    </span>
    YII2 - La guida italiana
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://bitbucket.org/xnerd/yii2docs" title="Go to repository" class="md-source" data-md-source="bitbucket">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#bitbucket" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Bitbucket
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Homepage" class="md-nav__link">
      Homepage
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Come Iniziare
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Come Iniziare
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../sub-installing-Yii/" title="Installazione di Yii" class="md-nav__link">
      Installazione di Yii
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sub-saying-hello/" title="Iniziamo con un "Ciao"" class="md-nav__link">
      Iniziamo con un "Ciao"
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sub-working-with-forms/" title="Lavoriamo con i moduli" class="md-nav__link">
      Lavoriamo con i moduli
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Lavoriamo con i database
      </label>
    
    <a href="./" title="Lavoriamo con i database" class="md-nav__link md-nav__link--active">
      Lavoriamo con i database
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preparazione-del-database" title="Preparazione del Database" class="md-nav__link">
    Preparazione del Database
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurazione-di-una-connessione-db" title="Configurazione di una connessione DB" class="md-nav__link">
    Configurazione di una connessione DB
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creazione-di-un-record-attivo" title="Creazione di un record attivo" class="md-nav__link">
    Creazione di un record attivo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creazione-di-unazione" title="Creazione di un'azione" class="md-nav__link">
    Creazione di un'azione
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creazione-di-una-vista" title="Creazione di una vista" class="md-nav__link">
    Creazione di una vista
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sub-generate-code-gii/" title="Generare codice con Gii" class="md-nav__link">
      Generare codice con Gii
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sub-looking-ahead/" title="Guardiamo avanti" class="md-nav__link">
      Guardiamo avanti
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Struttura dell'Applicazione
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Struttura dell'Applicazione
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-overview/" title="Panoramica" class="md-nav__link">
      Panoramica
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-entry-script/" title="Entry Script" class="md-nav__link">
      Entry Script
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-applications/" title="Applicazioni" class="md-nav__link">
      Applicazioni
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-application-components/" title="Componenti applicativi" class="md-nav__link">
      Componenti applicativi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-controllers/" title="Controllori" class="md-nav__link">
      Controllori
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-models/" title="Modelli" class="md-nav__link">
      Modelli
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-views/" title="Viste" class="md-nav__link">
      Viste
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-modules/" title="Moduli" class="md-nav__link">
      Moduli
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-filters/" title="Filtri" class="md-nav__link">
      Filtri
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-widget/" title="Widget" class="md-nav__link">
      Widget
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-assets/" title="Assets" class="md-nav__link">
      Assets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application-structure/sub-extensions/" title="Estensioni" class="md-nav__link">
      Estensioni
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preparazione-del-database" title="Preparazione del Database" class="md-nav__link">
    Preparazione del Database
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurazione-di-una-connessione-db" title="Configurazione di una connessione DB" class="md-nav__link">
    Configurazione di una connessione DB
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creazione-di-un-record-attivo" title="Creazione di un record attivo" class="md-nav__link">
    Creazione di un record attivo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creazione-di-unazione" title="Creazione di un'azione" class="md-nav__link">
    Creazione di un'azione
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creazione-di-una-vista" title="Creazione di una vista" class="md-nav__link">
    Creazione di una vista
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://bitbucket.org/xnerd/yii2docs/src/default/docs/getting-started/sub-working-with-database.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="lavorare-con-i-database">Lavorare con i database<a class="headerlink" href="#lavorare-con-i-database" title="Permanent link">&para;</a></h1>
<p>Questa sezione descrive come creare una nuova pagina che visualizza i dati di una paese recuperati da una tabella di database denominata <code>country</code>. Per raggiungere questo obiettivo, sarà possibile configurare una connessione di database,creare una classe "Active Record", definire un'azione e creare una vista.
Attraverso questo tutorial, imparerai come:
- configurare una connessione DB,
- definire una classe Active Record,
- scrivere una query utilizzando la classe Active Record,
- visualizzare i dati in una vista in modo paginato.</p>
<p>Tieni presente che per terminare questa sezione, dovresti avere conoscenze e esperienze di base nell'utilizzo dei database. In particolare, si dovrebbe sapere come creare un database e come seguire le istruzioni SQL utilizzando uno strumento client del DB.</p>
<h2 id="preparazione-del-database">Preparazione del Database<a class="headerlink" href="#preparazione-del-database" title="Permanent link">&para;</a></h2>
<p>Per iniziare, creare un database denominato <code>yii2basic</code>, da cui recupererai i dati nell'applicazione. E' possibile creare un database SQLite,MySQL, MSSQL, Oracle, in quanto Yii ha un supporto integrato per molte applicazioni di database. Nella seguente descrizione, per assumeremo la descrizione di un database MySQL.</p>
<p>A questo punto, dobbiamo creare una tabella denominata <code>country</code> nel database e inserire alcuni dati di esempio. E' possibile eseguire le seguenti istruzioni SQL per effettuarlo:</p>
<pre><code>CREATE TABLE `country` (
    `code` CHAR(2) NOT NULL PRIMARY KEY,
    `name` CHAR(52) NOT NULL,
    `population` INT(11) NOT NULL DEFAULT '0'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO `country` VALUES ('AU','Australia',24016400);
INSERT INTO `country` VALUES ('BR','Brazil',205722000);
INSERT INTO `country` VALUES ('CA','Canada',35985751);
INSERT INTO `country` VALUES ('CN','China',1375210000);
INSERT INTO `country` VALUES ('DE','Germany',81459000);
INSERT INTO `country` VALUES ('FR','France',64513242);
INSERT INTO `country` VALUES ('GB','United Kingdom',65097000);
INSERT INTO `country` VALUES ('IN','India',1285400000);
INSERT INTO `country` VALUES ('RU','Russia',146519759);
INSERT INTO `country` VALUES ('US','United States',322976000);
</code></pre>
<p>A questo punto,hai un database denominato <code>yii2basic</code> e all'interno di essa una tabella denominata <code>country</code> con tre colonne contenenti dieci righe di dati.</p>
<h2 id="configurazione-di-una-connessione-db">Configurazione di una connessione DB<a class="headerlink" href="#configurazione-di-una-connessione-db" title="Permanent link">&para;</a></h2>
<p>Prima di procedere, assicurarsi di aver installato sia l'estensione  del PDO di PHP che il driver PDO per il database che si sta utilizzando.
Con quelli installati, aprire il file <code>config/db.php</code> e cambiare i parametri per far si che la connessione con il DB avvenga con successo. Per impostazione predefinita, il file è composto come segue:</p>
<pre><code>&lt;?php

return [
    'class' =&gt; 'yii\db\Connection',
    'dsn' =&gt; 'mysql:host=localhost;dbname=yii2basic',
    'username' =&gt; 'root',
    'password' =&gt; '',
    'charset' =&gt; 'utf8',
];
</code></pre>
<p>Il file <code>config/db.php</code> è uno strumento di configurazione tipico basato su file. Questo particolare file di configurazione specifica i parametri necessari per creare e inizializzare un'istanza del " yii \ db \ Connection " in cui è possibile eseguire query SQL nei confronti del database sottostante.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Il file <code>config.db</code> verrà incluso nella configurazione principale dell'applicazione <code>config/web.php</code>, che specifica come inizializzare l'istanza della stessa.</p>
</div>
<h2 id="creazione-di-un-record-attivo">Creazione di un record attivo<a class="headerlink" href="#creazione-di-un-record-attivo" title="Permanent link">&para;</a></h2>
<p>Per rappresentare e recuperare dati nella tabella <code>country</code>, dobbiamo creare una classe " Active Record " generata all'interno di un altra classe chiamata <code>Country</code> e salvarla all'interno della directory <code>models/Country.php</code>.</p>
<pre><code>&lt;?php

namespace app\models;

use yii\db\ActiveRecord;

class Country extends ActiveRecord
{
}
</code></pre>
<p>La classe <code>Country</code> estende la classe "Active Record". Non c'è bisogno di scrivere nessun codice all'interno di esso! Con il codice precedente, Yii indovina il nome della tabella associata al nome della classe.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Se non è possibile eseguire una corrispondenza diretta dal nome della classe al nome della tabella del DB,è possibile utilizzare il metodo "tableName()" per specificare esplicitamente il nome della tabella associato.</p>
</div>
<p>Utilizzando la classe <code>Country</code>, è possibile modificare facilmente i dati nella tabella <code>country</code>, come mostrato in questi frammenti:</p>
<pre><code>use app\models\Country;

// get all rows from the country table and order them by "name"
$countries = Country::find()-&gt;orderBy('name')-&gt;all();

// get the row whose primary key is "US"
$country = Country::findOne('US');

// displays "United States"
echo $country-&gt;name;

// modifies the country name to be "U.S.A." and save it to database
$country-&gt;name = 'U.S.A.';
$country-&gt;save();
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Active Record è un metodo molto potente e utile per accedere e manipolare i dati del database in modo orientato agli oggetti. Potete trovare informazioni più dettaglia nella sezione Active Record spiegata successivamente. In alternativa è possibile interagire con un database utilizzando un metodo di accesso ai dati di livello inferiore denominato "Data Accesso Objects".</p>
</div>
<h2 id="creazione-di-unazione">Creazione di un'azione<a class="headerlink" href="#creazione-di-unazione" title="Permanent link">&para;</a></h2>
<p>Per far si che i dati inseriti nel nostro database vengano visualizzati all'utente finale, è necessario creare una nuova azione. Invece di inserire la nuova azione nel <code>site</code> controller, come nelle sezioni precedenti, è più logico creare un nuovo controller specificamente per tutte le azioni relative ai dati del paese. Denominare questo nuovo controller <code>CountryController</code> e creare un'azione <code>index</code> in esso, come mostrato in seguito.</p>
<pre><code>&lt;?php

namespace app\controllers;

use yii\web\Controller;
use yii\data\Pagination;
use app\models\Country;

class CountryController extends Controller{

    public function actionIndex(){

        $query = Country::find();

        $pagination = new Pagination([
            'defaultPageSize' =&gt; 5,
            'totalCount' =&gt; $query-&gt;count(),
        ]);

        $countries = $query-&gt;orderBy('name')
            -&gt;offset($pagination-&gt;offset)
            -&gt;limit($pagination-&gt;limit)
            -&gt;all();

        return $this-&gt;render('index', [
            'countries' =&gt; $countries,
            'pagination' =&gt; $pagination,
        ]);
    }
}
</code></pre>
<p>Salvare il precedente codice nella seguente directory: <code>controller/CountryController.php</code>.
L'azione <code>index</code> chiama <code>Country::find()</code>. Questo metodo Active Record crea una query DB e recupera tutti i dati dalla tabella <code>country</code> nel nostro DB.
Per limitare il numero di paesi restituiti in ogni richiesta, la query viene  paginata con l'aiuto di un oggetto " yii \ data \ Pagination ". L'oggetto <code>Pagination</code> serve per due scopi:
- Imposta le clausole di '<code>offset</code> e di <code>limit</code> per l'istruzione SQL rappresentato nella query in modo che restituisce solo una singola pagina di dati alla volta (max 5 righe in una pagina),
- viene utilizzato nella visualizzazione di un pager costituito da un elenco di pulsanti di pagina, come verrà spiegato nella sottosezione successiva.</p>
<p>Alla fine l'azione <code>index</code> rende una vista denominata <code>index</code> e passa i dati del paese così come le informazioni di paginazione.</p>
<h2 id="creazione-di-una-vista">Creazione di una vista<a class="headerlink" href="#creazione-di-una-vista" title="Permanent link">&para;</a></h2>
<p>Sotto la directory delle <code>views</code>, create una sotto-directory denominata <code>country</code>. Questa cartella verrà utilizzata per contenere tutte le viste rese dal controllore <code>country</code>. All'interno della directory <code>views/country</code>, creare un file denominato <code>index.php</code> contenente quanto segue:</p>
<pre><code>&lt;?php
use yii\helpers\Html;
use yii\widgets\LinkPager;
?&gt;
&lt;h1&gt;Countries&lt;/h1&gt;
&lt;ul&gt;
&lt;?php foreach ($countries as $country): ?&gt;
    &lt;li&gt;
        &lt;?= Html::encode("{$country-&gt;name} ({$country-&gt;code})") ?&gt;:
        &lt;?= $country-&gt;population ?&gt;
    &lt;/li&gt;
&lt;?php endforeach; ?&gt;
&lt;/ul&gt;

&lt;?= LinkPager::widget(['pagination' =&gt; $pagination]) ?&gt;
</code></pre>
<p>La vista presenta due sezioni relative alla visualizzazione dei dati del paese. Nella prima parte, i dati che ci vengono forniti riguardante i paesi vengono attraversati e resi come un elenco HTML non ordinato. Nella seconda parte viene utilizzato un widget " yii \ widgets \ LinkPager " utlizzando le informazioni di paginazione passate dall'azione. Il widget <code>LinkPager</code> visualizza un elenco di pulsanti per la pagina. Facendo clic su uno di essi verranno aggiornati i dati del paese nella pagina corrispondente.
Per vedere se e come funziona il codice precedente, dobbiamo incollare il seguente URL nel nostro browser</p>
<pre><code>http://hostname/index.php?r=country%2Findex
</code></pre>
<p><img alt="Screenshot" src="../../img/getting-started/Country.png" /></p>
<p>In un primo momento, vedrai una pagina che mostra 5 paesi. Sotto i paesi, vedrete un pager con 4 pulsanti. Se fai clic sul pulsante "2", la pagina visualizzerà altri cinque paesi che si troveranno nel nostro database. Con il seguente URL se lo copiate e lo incollate nel vostro browser, vedrete a video la seconda pagina dei paesi.</p>
<pre><code>http://hostname/index.php?r=country%2Findex&amp;page=2
</code></pre>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../sub-working-with-forms/" title="Lavoriamo con i moduli" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Lavoriamo con i moduli
              </span>
            </div>
          </a>
        
        
          <a href="../sub-generate-code-gii/" title="Generare codice con Gii" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Generare codice con Gii
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            © MIT - Lorenzo Milicia - 2017
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-946997f430.js"></script>
      
      
      <script>app.initialize({version:"0.16.3",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>